<!DOCTYPE html>
<html>
	<body>
		<h1>Hello World</h1>
		<p>I'm hosted with GitHub Pages.</p>
		<canvas id="myCanvas" width="1920" height="1080"></canvas>
		<canvas id="stencilCanvas" width="1920" height="1080"></canvas>

	</body>
</html>

<script>
	var c = document.getElementById("myCanvas");
	var ctx = c.getContext("2d");

	var stencilCanvas = document.getElementById("stencilCanvas");
	var stencilCtx = stencilCanvas.getContext("2d");
	stencilCanvas.hidden = true;

	function runHitbox(testname) {
	  	const img = new Image();
		img.src = './' + testname + '.jpg';

		const stencil = new Image();
		stencil.src = './' + testname + '_stencil.jpg';

		img.onload = () => {          
			ctx.drawImage(img, 0, 0);
		};

		stencil.onload = () => {          
			stencilCtx.drawImage(stencil, 0, 0);
		};
	}

	runHitbox('cat')

	// Add event listener for `click` events.
	c.addEventListener('click', function(event) {
    	var x = event.pageX,
        	y = event.pageY;

    	console.log(x)
    	console.log(y)

    	var stencilPixel = stencilCtx.getImageData(x, y, 1, 1).data;

    	console.log(stencilPixel);
    	ctx.hidden = true;
		stencilCtx.hidden = false;
		
	}, false);

</script> 